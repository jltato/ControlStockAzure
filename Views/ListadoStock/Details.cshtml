
@model ControlStock.Models.Articulo

@{
    ViewData["Title"] = "Detalle";
    Layout = "~/Views/Shared/_LayoutContainer.cshtml";
}

<h1>Detalle</h1>


<div>
    <h4>Articulo</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Nombre:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Nombre)
        </dd>       
        <dt class="col-sm-2">
            Marca:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Marca.MarcaName)
        </dd>
        <dt class="col-sm-2">
            Rubro:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Marca.Rubro.Name)
        </dd>        
        <dt class="col-sm-2">
            Observaciones:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Observaciones)
        </dd>
    </dl>
</div>
<hr />
<h2>N° Lote / Serie</h2>
<div>
    <table class="table" style="width:100%">
        <thead>
            <tr>
                <td>
                    Id
                </td>
                <td>
                    Fecha de Elaboración
                </td>
                <td>
                    Fecha de Vencimiento
                </td>
                <td>
                    Lote/Serie
                </td>
                <td>
                    Cantidad
                </td>
                <td></td>
            </tr>
        </thead>
        <tbody>
             @if (ViewBag.lotes != null)
        {
            @foreach (var item in ViewBag.lotes)
            {
                <tr>
                        <td>
                            @item.DepositoArticuloLoteId
                        </td>
                        <td>
                            @(item.Lote != null ? item.Lote.FechaElaboracion.ToString("dd-MM-yyyy") : "Sin Fecha")
                        </td>
                        <td>
                            @(item.Lote != null ? item.Lote.FechaVencimiento.ToString("dd-MM-yyyy") : "Sin Fecha")
                        </td>
                        <td>
                            @(item.Lote != null ? item.Lote.NumeroLote : "Sin Lote")
                        </td>
                    <td>
                        @item.Cantidad
                    </td>
                    <td>
                            <a href='/ListadoStock/Edit/@item.DepositoArticuloLoteId ' style='text-decoration: none; color:black' data-bs-toggle='tooltip' data-bs-title='Editar'>
                                <i class='fa fa-pencil-square-o'></i>
                            </a>
                    </td>
                </tr>
            }
            }
            else
            {
                <tr>
                    <td colspan="5">No hay lote/serie disponibles.</td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div class="d-sm-flex justify-content-between">
    <div>
       @*  <a asp-action="Edit" asp-route-id="@Model?.IdArticulo">Modificar</a> | *@
        <a asp-action="Index">Volver al Listado</a>
    </div>
    
</div>

